{% include 'admin/iheader.html' %}

<style>
	body {
		margin: 10px;
	}
	
	.demo-carousel {
		height: 200px;
		line-height: 200px;
		text-align: center;
	}
	
	.layui-table-view .layui-table {
		width: 100%;
	}
	
	.model {
		padding: 20px;
	}
	
	.layui-upload-img {
		width: 100px;
		height: 100px;
		border: 1px solid transparent;
	}
</style>
{% include 'admin/crumbs1.html' %}
<form class="layui-form" action="" style="width: 700px; padding-bottom: 100px;">
	<div class="layui-form-item">
		<label class="layui-form-label">单行输入框</label>
		<div class="layui-input-block">
			<input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入标题" class="layui-input">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">验证必填项</label>
		<div class="layui-input-block">
			<input type="text" name="username" placeholder="请输入" autocomplete="off" class="layui-input">
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">验证手机</label>
			<div class="layui-input-inline">
				<input type="tel" name="phone" autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">验证邮箱</label>
			<div class="layui-input-inline">
				<input type="text" name="email" autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">多规则验证</label>
			<div class="layui-input-inline">
				<input type="text" name="number" autocomplete="off" class="layui-input">
			</div>
		</div>
		<div class="layui-inline">
			<label class="layui-form-label">验证日期</label>
			<div class="layui-input-inline">
				<input type="text" name="date" id="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
			</div>
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">自定义验证</label>
		<div class="layui-input-inline">
			<input type="password" name="password" placeholder="请输入密码" autocomplete="off" class="layui-input">
		</div>
		<div class="layui-form-mid layui-word-aux">请填写6到12位密码</div>
	</div>

	<div class="layui-form-item">
		<label class="layui-form-label">单行选择框</label>
		<div class="layui-input-inline">
			<select name="interest" lay-filter="aihao">
				<option value=""></option>
				<option value="0">写作</option>
				<option value="1" selected="">阅读</option>
				<option value="2">游戏</option>
				<option value="3">音乐</option>
				<option value="4">旅行</option>
			</select>
		</div>
	</div>

	<div class="layui-form-item">
		<div class="layui-inline">
			<label class="layui-form-label">搜索选择框</label>
			<div class="layui-input-inline">
				<select name="modules" lay-search="">
					<option value="">直接选择或搜索选择</option>
					<option value="1">layer</option>
					<option value="2">form</option>
					<option value="3">layim</option>
					<option value="4">element</option>
				</select>
			</div>
		</div>
	</div>

	<div class="layui-form-item" pane="">
		<label class="layui-form-label">原始复选框</label>
		<div class="layui-input-block">
			<input type="checkbox" name="like1[write]" lay-skin="primary" title="写作" checked="">
			<input type="checkbox" name="like1[read]" lay-skin="primary" title="阅读">
			<input type="checkbox" name="like1[game]" lay-skin="primary" title="游戏" disabled="">
		</div>
	</div>

	<div class="layui-form-item">
		<label class="layui-form-label">开关-默认关</label>
		<div class="layui-input-block">
			<input type="checkbox" name="close" lay-skin="switch" lay-text="ON|OFF">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">开关-默认开</label>
		<div class="layui-input-block">
			<input type="checkbox" checked="" name="open" lay-skin="switch" lay-filter="switchTest" lay-text="打开|关闭">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">单选框</label>
		<div class="layui-input-block">
			<input type="radio" name="sex" value="男" title="男" checked="">
			<input type="radio" name="sex" value="女" title="女">
			<input type="radio" name="sex" value="禁" title="禁用" disabled="">
		</div>
	</div>
	<div class="layui-form-item">
		<label class="layui-form-label">上传</label>
		<div class="layui-input-block">
			<div class="layui-upload">

				<div class="layui-upload-list">
					<img class="layui-upload-img" id="demo1">
					<p id="demoText"></p>
				</div>
				<button type="button" class="layui-btn" id="test1">上传图片</button>
			</div>
		</div>
	</div>

	<div class="layui-form-item layui-form-text">
		<label class="layui-form-label">编辑器</label>
		<div class="layui-input-block">
			<textarea class="layui-textarea layui-hide" name="content" id="LAY_demo_editor"></textarea>
		</div>
	</div>
	<div class="layui-form-item">
		<div class="layui-input-block">
			<button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
			<button type="reset" class="layui-btn layui-btn-primary">重置</button>
		</div>
	</div>
</form>

<script src="/resource/admin/layui/layui.js"></script>
<script src="/resource/admin/js/jslib/ykp.js"></script>
<script src="/resource/admin/js/jslib/public.js"></script>
<!--<script src="/resource/admin/js/jslib/bootstrap-3.3.5/js/bootstrap.min.js"></script>-->
<script>
	ykp.defineClass(['element', "jquery"], {
		init: function() {
			var it = this;
			//初始化列表
			it.initFrom();
		},

		initFrom: function() {
			layui.use(['form', 'layedit', 'laydate', 'element'], function() {
				var form = layui.form,
					layer = layui.layer,
					layedit = layui.layedit,
					laydate = layui.laydate,
					public = layui.public,
					upload = layui.upload;

				//日期
				laydate.render({
					elem: '#date'
				});
				laydate.render({
					elem: '#date1'
				});

				//创建一个编辑器
				var editIndex = layedit.build('LAY_demo_editor');

				//自定义验证规则
//				form.verify({
//					title: function(value) {
//						if(value.length < 5) {
//							return '标题至少得5个字符啊';
//						}
//					},
//					pass: [/(.+){6,12}$/, '密码必须6到12位'],
//					content: function(value) {
//						layedit.sync(editIndex);
//					}
//				});

				//监听提交
				form.on('submit(demo1)', function(data) {
					layer.alert(JSON.stringify(data.field), {
						title: '最终的提交信息'
					})
					var parmas = ykp.getSessionStorage('iframeId');
					console.log(parmas);
					for(var i in parmas) {
						console.log(i);
					}
					//编辑成功 跳转到列表页面
					//						self.parent.document.getElementById(parmas).src = '{{base_url}}admin/user/';
					return false;
				});

				public.upload({
					el: "#test1",
					showImg: "#demo1",
					url: 'http://api.finance.yunkepai.net/api/api_common/upload_img',
				});
				//获取当前iframe窗口的id值
				//var id =  ykp.getSessionStorage('iframeId');
				//var result = public.getIframeParams(id);
				//console.log(result.id);
			});
		},

	});
</script>
</body>

</html>